TARGETNAME=CrmDll
TARGETTYPE=DYNLINK
TARGET_DESTINATION=retail
#DLLDEF= $(TARGETNAME).def

UMTYPE=console
UMENTRY=wmain

USE_CPPWINRT    = 1

USER_C_FLAGS=$(USER_C_FLAGS) /std:c++17


C_DEFINES = $(C_DEFINES) -DAMACRO -D_UNICODE -DUNICODE

SOURCES=\
    main.cpp \
    module.cpp        \
    DefaultResource.rc # Autogenerated file name + version for Device Guard whitelisting effort \

INCLUDES = \
	.;					\
	$(SHELL_INC_PATH);		\
	$(BASE_INC_PATH);		\
    
INCLUDES=\
    $(INCLUDES); \
    $(ONECORECOM_INC_PATH); \
    $(COM_INC_PATH); \
    $(ONECORECOM_INC_PATH)\winrt; \
    $(COM_INC_PATH)\winrt; \
    $(BASE_INC_PATH); \
    $(BASE_INC_PATH); \
    $(SHELL_INC_PATH);\
    $(MINCORE_PRIV_SDK_INC_PATH); \
    $(MODERNCORE_PRIV_SDK_INC_PATH); \
    $(ONECORE_PRIV_SDK_INC_PATH); \
    $(ONECOREUAPSHELL_INTERNAL_INC_PATH_L); \
    \
    $(ONECORESHELL_INTERNAL_INC_PATH_L); \
    $(ONECORESHELL_INTERNAL_INC_PATH_L)\private; \
    $(ONECOREUAPSHELL_INTERNAL_INC_PATH_L); \
    $(ONECOREUAPSHELL_INTERNAL_INC_PATH_L)\private; \
    $(SHELL_INC_PATH); \
    $(SHELL_PRIVATE_INC_PATH); \
    $(NET_INC_PATH); \
    $(COM_INC_PATH); \
    $(ONECORE_INTERNAL_SDK_INC_PATH); \
    \
    $(CCSHELL_DIR)\inc; \
    $(ONECOREUAPWINDOWS_INTERNAL_INC_PATH_L); \
    $(ONECOREWINDOWS_INTERNAL_INC_PATH_L); \
    $(WINDOWS_INC_PATH); \
    $(CLIENTCOREWINDOWS_INC_PATH); \
    $(CLIENTCOREWINDOWS_INTERNAL_INC_PATH_L); \
    $(MINWIN_INTERNAL_PRIV_SDK_INC_PATH_L); \
    $(MINCORE_INTERNAL_PRIV_SDK_INC_PATH_L); \
    $(MINCORE_SDK_INC_PATH); \
    $(MINCORE_EXTERNAL_SDK_INC_PATH_L); \
    $(CLIENTCORE_SDK_INC_PATH); \
    $(CLIENTCORE_EXTERNAL_SDK_INC_PATH_L); \
    $(ONECOREUAPBASE_INTERNAL_INC_PATH_L); \
    $(ONECOREBASE_INTERNAL_INC_PATH_L); \
    $(ONECOREBASE_INTERNAL_INC_PATH_L)\private; \
    $(BASE_INC_PATH); \
    $(ONECOREUAP_INTERNAL_SDK_INC_PATH); \
    $(INTERNAL_SDK_INC_PATH); \
    $(ONECORE_INTERNAL_SDK_INC_PATH); \
    $(ONECORE_EXTERNAL_SDK_INC_PATH); \
    $(SDK_INC_PATH); \
    $(CLIENTCORE_EXTERNAL_SDK_INC_PATH); \
    $(ONECOREUAP_EXTERNAL_SDK_INC_PATH); \
    $(ONECORE_PRIV_SDK_INC_PATH); \
    $(ONECORE_INTERNAL_PRIV_SDK_INC_PATH_L); \
    $(ONECOREUAPSHELL_INTERNAL_INC_PATH_L)\private; \
    $(ONECOREUAPSHELL_INTERNAL_INC_PATH_L); \
    $(ONECORESHELL_INTERNAL_INC_PATH_L)\private; \
    $(PROJECT_PRIVATE_INC_PATH); \
    $(INCLUDES); \
    $(CLIENTCORE_INTERNAL_PRIV_SDK_INC_PATH_L); \
    $(MODERNCORE_INTERNAL_PRIV_SDK_INC_PATH_L); \
    \
    $(CLIENTCORESHELL_INTERNAL_INC_PATH_L); \
    \
    $(SDK_INC_PATH); \
    $(ONECORE_EXTERNAL_SDK_INC_PATH); \
    $(ONECOREDS_INTERNAL_INC_PATH_L); \
    $(DS_INC_PATH); \
    $(ONECORESDKTOOLS_INTERNAL_INC_PATH_L)\wextest\cue; \
    $(MINWIN_INTERNAL_PRIV_SDK_INC_PATH_L); \
    
TARGETLIBS =                                           \
    $(TARGETLIBS)                                      \
    $(ONECORE_EXTERNAL_SDK_LIB_PATH)\onecore.lib       \
    $(ONECOREUAPSHELL_INTERNAL_LIB_PATH_L)\shguidonecore.lib \
    $(ONECORE_INTERNAL_SDK_LIB_PATH)\onecoreuuid.lib \
    $(SHELL_LIB_PATH)\shuuid.lib \
    $(SDK_LIB_PATH)\shell32.lib                        \
    \
    $(MINCORE_INTERNAL_SDK_LIB_VPATH_L)\api-ms-win-core-path-l1.lib \
    $(CLIENTCORE_EXTERNAL_SDK_LIB_PATH)\advapi32.lib \
    $(CLIENTCORE_EXTERNAL_SDK_LIB_PATH)\kernel32.lib \
    $(CLIENTCORE_EXTERNAL_SDK_LIB_PATH)\kernl32p.lib \
    $(SDK_LIB_PATH)\comctl32.lib \
    $(ONECORE_EXTERNAL_SDK_LIB_PATH)\ntdll.lib \
    $(SDK_LIB_PATH)\ole32.lib \
    $(ONECORE_EXTERNAL_SDK_LIB_PATH)\oleaut32.lib \
    $(ONECOREUAP_EXTERNAL_SDK_LIB_PATH)\propsys.lib \
    $(SDK_LIB_PATH)\shell32.lib \
    $(SDK_LIB_PATH)\uuid.lib \
    $(CLIENTCORE_EXTERNAL_SDK_LIB_PATH)\user32.lib \
    $(ONECORESHELL_INTERNAL_LIB_PATH_L)\commonutilitylibrary.lib \
    $(SHELL_LIB_PATH)\DebugBreakOnAssert.lib \
    $(SHELL_LIB_PATH)\shell32p.lib \
    $(SHELL_LIB_PATH)\shlwapip.lib \
    $(ONECOREUAPSHELL_INTERNAL_LIB_PATH_L)\varutil.lib \
    $(ONECOREUAPSHELL_INTERNAL_LIB_PATH_L)\stock_noshell32.lib \
    $(SHELL_LIB_PATH)\shguidp.lib \
    $(SHELL_LIB_PATH)\shuuid.lib \
    $(SHELL_LIB_PATH)\ieguidp.lib \
    \
    $(CLIENTCORE_EXTERNAL_SDK_LIB_PATH)\kernel32.lib                    \
    $(ONECORE_EXTERNAL_SDK_LIB_PATH)\ntdll.lib                       \
    $(CLIENTCORE_EXTERNAL_SDK_LIB_PATH)\user32.lib                      \
    $(CLIENTCORE_EXTERNAL_SDK_LIB_PATH)\advapi32.lib                    \
    $(ONECORE_EXTERNAL_SDK_LIB_PATH)\rpcrt4.lib                      \
    $(ONECORE_EXTERNAL_SDK_LIB_PATH)\rpcutil.lib                     \
    $(ONECORE_EXTERNAL_SDK_LIB_PATH)\mpr.lib                         \
    $(ONECORESDKTOOLS_INTERNAL_LIB_PATH_L)\WexTest\Cue\Te.Common.lib  \
    $(ONECORESDKTOOLS_INTERNAL_LIB_PATH_L)\WexTest\Cue\Wex.Common.lib \
    $(ONECORESDKTOOLS_INTERNAL_LIB_PATH_L)\WexTest\Cue\Wex.Logger.lib \
    $(ONECOREDS_INTERNAL_LIB_PATH_L)\aiscli.lib                       \
    $(ONECOREDS_INTERNAL_LIB_PATH_L)\luatoken.lib                     \
    $(MINWIN_INTERNAL_PRIV_SDK_LIB_VPATH_L)\ext-ms-win-appmodel-daxcore-l1.lib \
    $(MINWIN_INTERNAL_PRIV_SDK_LIB_VPATH_L)\ext-ms-win-appmodel-appexecutionalias-l1.lib \
    $(ONECORE_INTERNAL_PRIV_SDK_LIB_VPATH_L)\onecore_internal.lib \
    $(MINCORE_INTERNAL_PRIV_SDK_LIB_VPATH_L)\ext-ms-win-ntuser-windowstation-l1.lib \
    \
    $(ONECORE_INTERNAL_SDK_LIB_VPATH)\ext-ms-win-resourcemanager-activitycoordinator-l1.lib \
    \
    $(ONECOREBASE_INTERNAL_LIB_VPATH_L)\ext-ms-win-resourcemanager-crm-l1.lib \
    

    

DELAYLOAD=\
  ext-ms-win-resourcemanager-activitycoordinator-l1.dll; \

DLOAD_ERROR_HANDLER=kernelbase

# Autogenerated. Sets file name for Device Guard whitelisting effort, used in RC.exe.
C_DEFINES=$(C_DEFINES) -D___TARGETNAME="""$(TARGETNAME).$(TARGETTYPE)"""
MUI_VERIFY_NO_LOC_RESOURCE=1

